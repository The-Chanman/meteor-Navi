<template name="components_masterPage">

    <div class="panel panel-default panel-dapp">
        <div class="panel-heading">
          Master Contract - Control Panel
        </div>
        <div class="panel-body">
            {{#with TemplateVar.get 'state'}}
                {{#if isError}}
                    <div class="alert alert-warning">
                        There was an error deploying your contract.
                        The error was: "{{error}}".
                    </div>
                {{/if}}
                {{#if isNotAddressed}}

                <label>
                    Please paste in Master Contract Address:
                </label>

                <input type="text"
                        id="masterContractAddress"
                        class="form-control"
                        placeholder="0xb9f7426d69049443d6408033b88d1d088522fb14" />
                <br />
                <button type="button" data-action="findContract" class="btn btn-default btn-deploy">
                    GO TO CONTRACT!
                </button>

                {{/if}}
                {{#if isMining}}
                    <div class="alert alert-info">
                        Your contract is being mined...
                        <span class="badge text-right">
                            <i class="fa fa-cog fa-spin"></i>
                        </span>
                    </div>
                {{/if}}

                {{#if contractExists}}
                  <div class="panel-heading">
                    Control Panel
                  </div>
                  <div class="panel-body">
                  <label>
                      Create New Machine
                  </label>

                  <input type="text"
                          id="machineNickname"
                          class="form-control"
                          placeholder="Nickname" /> <br/>
                  <button type="button" data-action="createMachine" class="btn btn-default btn-deploy">
                      Create Machine!
                  </button>
                </div>


                <div class="panel-body">
                <label>
                    Add Product To Inventory
                </label>
                <input type="text"
                        id="addProductName"
                        class="form-control"
                        placeholder="Product Name" /> <br/>
                <input type="text"
                        id="addVendorID"
                        class="form-control"
                        placeholder="Vendor Contract Address" /> <br/>
                <input type="text"
                        id="addProductPrice"
                        placeholder="Price" /> <label>ether</label><br/><br/>
                <button type="button" data-action="addProduct" class="btn btn-default btn-deploy">
                    Add Product!
                </button>
              </div>

              <div class="panel-body">
              <label>
                  Add Product To Machine
              </label>

              <input type="text"
                      id="stockMachineID"
                      class="form-control"
                      placeholder="0x0b71a610bbdff95b3f37acc07de07113fa43c124" /> <br/>

              <input type="text"
                      id="stockProductID"
                      class="form-control"
                      placeholder="123" /> <br/>
              <button type="button" data-action="stockMachine" class="btn btn-default btn-deploy">
                  Stock it!
              </button>
            </div>

            <div class="panel-body">
            <label>
                Update Price
            </label>
            <input type="text"
                    id="updateProductID"
                    class="form-control"
                    placeholder="123" /> <br/>
            <input type="text"
                    id="updateProductPrice"
                    placeholder="2.5" /> <label>ether</label><br/><br/>
            <button type="button" data-action="updateProduct" class="btn btn-default btn-deploy">
                Update Product!
            </button>
          </div>

                {{/if}}
            {{/with}}
        </div>
    </div>


    <div class="panel panel-default panel-dapp">

        <div class="panel-heading">
          Master Inventories
        </div>
        <div class="panel-body">
            {{#with TemplateVar.get 'state'}}
                {{#if contractExists}}
                <br />
                <style>
                  table {
                      font-family: arial, sans-serif;
                      border-collapse: collapse;
                      width: 100%;
                  }

                  td, th {
                      border: 1px solid #514441;
                      text-align: left;
                      padding: 8px;
                  }

                  tr:nth-child(odd) {
                      background-color: #dddddd;
                  }
                  </style>



                <table id="machineTable">
                  <tr>
                    <td>Machine ID:</td>
                    <td>Nickname:</td>
                  </tr>
                </table>
                <br>
                <table id="productTable">
                  <tr>
                    <td>Name:</td>
                    <td>Product ID:</td>
                    <td>Price (ether):</td>
                    <td>VendorID</td>
                  </tr>
                </table>

                <br>

                {{/if}}

            {{/with}}
          </div>

    </div>
</template>
